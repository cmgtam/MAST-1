<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>MAST.ingredients.pmgextend.structure_extensions module &mdash; MAST 20131216.canoe documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '20131216.canoe',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="MAST 20131216.canoe documentation" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="index.html">MAST 20131216.canoe documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-MAST.ingredients.pmgextend.structure_extensions">
<span id="mast-ingredients-pmgextend-structure-extensions-module"></span><h1>MAST.ingredients.pmgextend.structure_extensions module<a class="headerlink" href="#module-MAST.ingredients.pmgextend.structure_extensions" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="MAST.ingredients.pmgextend.structure_extensions.StructureExtensions">
<em class="property">class </em><tt class="descclassname">MAST.ingredients.pmgextend.structure_extensions.</tt><tt class="descname">StructureExtensions</tt><big>(</big><em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/MAST/ingredients/pmgextend/structure_extensions.html#StructureExtensions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#MAST.ingredients.pmgextend.structure_extensions.StructureExtensions" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="MAST.utility.mastobj.html#MAST.utility.mastobj.MASTObj" title="MAST.utility.mastobj.MASTObj"><tt class="xref py py-class docutils literal"><span class="pre">MAST.utility.mastobj.MASTObj</span></tt></a></p>
<p>Structure extensions</p>
<dl class="method">
<dt id="MAST.ingredients.pmgextend.structure_extensions.StructureExtensions.do_interpolation">
<tt class="descname">do_interpolation</tt><big>(</big><em>numim</em><big>)</big><a class="reference internal" href="_modules/MAST/ingredients/pmgextend/structure_extensions.html#StructureExtensions.do_interpolation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#MAST.ingredients.pmgextend.structure_extensions.StructureExtensions.do_interpolation" title="Permalink to this definition">¶</a></dt>
<dd><p>Do interpolation.
Both struc_work1 and struc_work2 should be defined.
Args:</p>
<blockquote>
<div>numim &lt;int&gt;: number of images</div></blockquote>
<dl class="docutils">
<dt>Returns:</dt>
<dd><dl class="first last docutils">
<dt>&lt;list of Structure&gt;: list of interpolated </dt>
<dd>structures, including the two endpoints</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="MAST.ingredients.pmgextend.structure_extensions.StructureExtensions.get_multiple_sd_array">
<tt class="descname">get_multiple_sd_array</tt><big>(</big><em>phonon_center_site</em>, <em>phonon_center_radius</em><big>)</big><a class="reference internal" href="_modules/MAST/ingredients/pmgextend/structure_extensions.html#StructureExtensions.get_multiple_sd_array"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#MAST.ingredients.pmgextend.structure_extensions.StructureExtensions.get_multiple_sd_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a selective dynamics array, for use when every atom and every
direction is a separate calculation (T F F, etc.)
Args:</p>
<blockquote>
<div>phonon_center_site &lt;str&gt;: phonon center site (coordinate)
phonon_center_radius &lt;float&gt;: phonon center radius, in Angstroms</div></blockquote>
<dl class="docutils">
<dt>Returns:</dt>
<dd>mysdlist &lt;list&gt;: list of SD arrays</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="MAST.ingredients.pmgextend.structure_extensions.StructureExtensions.get_sd_array">
<tt class="descname">get_sd_array</tt><big>(</big><em>phonon_center_site</em>, <em>phonon_center_radius</em><big>)</big><a class="reference internal" href="_modules/MAST/ingredients/pmgextend/structure_extensions.html#StructureExtensions.get_sd_array"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#MAST.ingredients.pmgextend.structure_extensions.StructureExtensions.get_sd_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a selective dynamics array.
Args:</p>
<blockquote>
<div>phonon_center_site &lt;str&gt;: phonon center site (coordinate)
phonon_center_radius &lt;float&gt;: phonon center radius</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="MAST.ingredients.pmgextend.structure_extensions.StructureExtensions.graft_coordinates_onto_structure">
<tt class="descname">graft_coordinates_onto_structure</tt><big>(</big><em>coordstruc</em><big>)</big><a class="reference internal" href="_modules/MAST/ingredients/pmgextend/structure_extensions.html#StructureExtensions.graft_coordinates_onto_structure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#MAST.ingredients.pmgextend.structure_extensions.StructureExtensions.graft_coordinates_onto_structure" title="Permalink to this definition">¶</a></dt>
<dd><p>Graft coordinates from mast_coordinates Structure objects
onto the appropriate structure
Args:</p>
<blockquote>
<div><dl class="docutils">
<dt>coordstruc &lt;Structure&gt;: Structure object with</dt>
<dd>the coordinates for grafting</dd>
<dt>self.keywords[&#8216;struc_work1&#8217;] will contain</dt>
<dd>the elements and lattice parameter, which
will not be touched.</dd>
</dl>
</div></blockquote>
<dl class="docutils">
<dt>Returns:</dt>
<dd>modified Structure object &lt;Structure&gt;</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="MAST.ingredients.pmgextend.structure_extensions.StructureExtensions.induce_defect">
<tt class="descname">induce_defect</tt><big>(</big><em>defect</em>, <em>coord_type</em>, <em>threshold</em><big>)</big><a class="reference internal" href="_modules/MAST/ingredients/pmgextend/structure_extensions.html#StructureExtensions.induce_defect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#MAST.ingredients.pmgextend.structure_extensions.StructureExtensions.induce_defect" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a defect, and returns the modified structure
Args:</p>
<blockquote>
<div><dl class="docutils">
<dt>defect &lt;dict&gt;: Defect subdictionary (single </dt>
<dd><blockquote class="first">
<div><blockquote>
<div>defect) of the form:</div></blockquote>
<p>{&#8216;symbol&#8217;: &#8216;cr&#8217;, &#8216;type&#8217;: &#8216;interstitial&#8217;,</p>
</div></blockquote>
<p class="last">&#8216;coordinates&#8217;: array([ 0. ,  0.5,  0. ])}}</p>
</dd>
</dl>
<p>coord_type &lt;str&gt;: cartesian or fractional
threshold &lt;float&gt;: Threshold for finding the</p>
<blockquote>
<div>defect position in what may
be a relaxed, imperfect 
structure.</div></blockquote>
</div></blockquote>
<dl class="docutils">
<dt>Returns:</dt>
<dd>defected structure &lt;Structure&gt;</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="MAST.ingredients.pmgextend.structure_extensions.StructureExtensions.scale_defect">
<tt class="descname">scale_defect</tt><big>(</big><em>defect</em>, <em>coord_type</em>, <em>threshold</em><big>)</big><a class="reference internal" href="_modules/MAST/ingredients/pmgextend/structure_extensions.html#StructureExtensions.scale_defect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#MAST.ingredients.pmgextend.structure_extensions.StructureExtensions.scale_defect" title="Permalink to this definition">¶</a></dt>
<dd><p>Scales the defect dictionary and returns the modified structure
Args:</p>
<blockquote>
<div><p>keyword struc_work1: scaled-up structure
keyword struc_work2: original structure
defect &lt;dict&gt;: Defect subdictionary (single</p>
<blockquote>
<div><blockquote>
<div><blockquote>
<div>defect) of the form:</div></blockquote>
<p>{&#8216;symbol&#8217;: &#8216;cr&#8217;, &#8216;type&#8217;: &#8216;interstitial&#8217;,</p>
</div></blockquote>
<p>&#8216;coordinates&#8217;: array([ 0. ,  0.5,  0. ])}}</p>
</div></blockquote>
<p>coord_type &lt;str&gt;: cartesian or fractional
threshold &lt;float&gt;: Threshold for finding the</p>
<blockquote>
<div>defect position in what may
be a relaxed, imperfect 
structure.</div></blockquote>
</div></blockquote>
<dl class="docutils">
<dt>Returns:</dt>
<dd>defected structure &lt;Structure&gt;</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="MAST.ingredients.pmgextend.structure_extensions.StructureExtensions.scale_structure">
<tt class="descname">scale_structure</tt><big>(</big><em>scale</em><big>)</big><a class="reference internal" href="_modules/MAST/ingredients/pmgextend/structure_extensions.html#StructureExtensions.scale_structure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#MAST.ingredients.pmgextend.structure_extensions.StructureExtensions.scale_structure" title="Permalink to this definition">¶</a></dt>
<dd><p>Scale the structure.
Args:</p>
<blockquote>
<div>oldstr &lt;structure&gt;: old structure to be scaled
scale &lt;int&gt;: scale parameter; should be &gt;= 2</div></blockquote>
<dl class="docutils">
<dt>Returns:</dt>
<dd>scaledstr &lt;structure&gt;</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="MAST.ingredients.pmgextend.structure_extensions.StructureExtensions.sort_structure_and_neb_lines">
<tt class="descname">sort_structure_and_neb_lines</tt><big>(</big><em>neblines</em>, <em>folderstr</em>, <em>images=0</em><big>)</big><a class="reference internal" href="_modules/MAST/ingredients/pmgextend/structure_extensions.html#StructureExtensions.sort_structure_and_neb_lines"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#MAST.ingredients.pmgextend.structure_extensions.StructureExtensions.sort_structure_and_neb_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Sort the structure in an approved way:
1. Remove lines which closely match the neb moving</p>
<blockquote>
<div>lines in the NEB section.</div></blockquote>
<ol class="arabic simple" start="2">
<li>Sort the structure by element and coordinate.</li>
<li>Prepend the NEB moving lines to their element 
sections.</li>
</ol>
<p>4. Return the modified structure.
Args:</p>
<blockquote>
<div><dl class="docutils">
<dt>folderstr &lt;str&gt; <span class="classifier-delimiter">:</span> <span class="classifier">&#8216;00&#8217; = initial config, </span></dt>
<dd>&#8216;0N+1&#8217; = final config,
&#8216;0N&#8217; = corresponding image</dd>
</dl>
<p>neblines &lt;list&gt;  : list of NEB lines
images &lt;int&gt;     : number of images</p>
</div></blockquote>
<dl class="docutils">
<dt>Returns:</dt>
<dd>sorted structure &lt;Structure&gt;</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="MAST.ingredients.pmgextend.structure_extensions.StructureExtensions.strain_lattice">
<tt class="descname">strain_lattice</tt><big>(</big><em>strainstring</em><big>)</big><a class="reference internal" href="_modules/MAST/ingredients/pmgextend/structure_extensions.html#StructureExtensions.strain_lattice"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#MAST.ingredients.pmgextend.structure_extensions.StructureExtensions.strain_lattice" title="Permalink to this definition">¶</a></dt>
<dd><p>Strain the lattice. 
Args:</p>
<blockquote>
<div><dl class="docutils">
<dt>strainstring &lt;str&gt;: Strain string from </dt>
<dd>&#8216;mast_strain&#8217; in program keys, 
with space-separated strain along 
lattice vectors a, b, and c, e.g.
&#8220;0.98 0.96 1.01&#8221;</dd>
</dl>
</div></blockquote>
<dl class="docutils">
<dt>Returns:</dt>
<dd>newstructure &lt;Structure&gt;: strained structure</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/MAST_logo_200px.png" alt="Logo"/>
            </a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="index.html">MAST 20131216.canoe documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, CMG.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.
    </div>
  </body>
</html>