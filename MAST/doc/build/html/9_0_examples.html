<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Examples &mdash; MAST 1.1.5 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.1.5',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="MAST 1.1.5 documentation" href="index.html" />
    <link rel="next" title="Running MAST" href="5_0_runningmast.html" />
    <link rel="prev" title="The Recipe" href="4_0_recipe.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="5_0_runningmast.html" title="Running MAST"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="4_0_recipe.html" title="The Recipe"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">MAST 1.1.5 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="examples">
<h1>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h1>
<div class="section" id="full-example-defects-charges-neb-phonons">
<h2>Full example: defects, charges, NEB, phonons<a class="headerlink" href="#full-example-defects-charges-neb-phonons" title="Permalink to this headline">¶</a></h2>
<p>Recipe:</p>
<div class="highlight-python"><pre>Recipe OptimizeWorkflow
perfect_opt1 (lowmesh)
    perfect_opt2
        perfect_stat (static)
        {begin}
        inducedefect_&lt;N&gt; (inducedefect)
            defect_&lt;N&gt;_&lt;Q&gt;_opt1 (lowmesh_defect)
                defect_&lt;N&gt;_&lt;Q&gt;_opt2 (defect_relax)
                    defect_&lt;N&gt;_&lt;Q&gt;_stat (static)
        {end}
{begin}
defect_&lt;N&gt;_&lt;Q&gt;_stat (static)
    phonon_&lt;N&gt;_&lt;Q&gt;_&lt;P&gt; (phonon)
        phonon_&lt;N&gt;_&lt;Q&gt;_&lt;P&gt;_parse (phononparse)
{end}
{begin}
defect_&lt;B&gt;_&lt;Q&gt;_stat (static_to_neb), defect_&lt;E&gt;_&lt;Q&gt;_stat (static_to_neb)
    neb_&lt;B-E&gt;_&lt;Q&gt;_opt1 (neb_to_neb)
        neb_&lt;B-E&gt;_&lt;Q&gt;_opt2 (neb_to_nebstat)
            neb_&lt;B-E&gt;_&lt;Q&gt;_stat (nebstat_to_phonon)
    neb_&lt;B-E&gt;_&lt;Q&gt;_opt2 (neb_to_nebstat)
    neb_&lt;B-E&gt;_&lt;Q&gt;_stat (nebstat_to_phonon)
{end}
{begin}
neb_&lt;B-E&gt;_&lt;Q&gt;_stat (nebstat_to_phonon)
    phonon_&lt;B-E&gt;_&lt;Q&gt;_&lt;P&gt; (phonon)
        phonon_&lt;B-E&gt;_&lt;Q&gt;_&lt;P&gt;_parse (phononparse)
{end}</pre>
</div>
<p>Input file:</p>
<div class="highlight-python"><pre># Small demo for NEB workflow
$mast
system_name PhononNebTest
$end

$structure
coord_type fractional

begin elementmap
X1 Al
X2 Mg
end

begin lattice
3.5 0 0
0 3.5 0
0 0 3.5
end

begin coordinates
X1 0.0000000000 0.0000000000 0.0000000000
X1 0.5000000000 0.5000000000 0.0000000000
X1 0.0000000000 0.5000000000 0.5000000000
X1 0.5000000000 0.0000000000 0.5000000000
end

$end

$defects
threshold 1e-4
coord_type fractional

begin int1
interstitial 0.25 0.25 0.25 X2
phonon host 0.0 0.5 0.5 0.5
charge=-3,-2
end

begin int2
interstitial 0.25 0.25 0.75 X2
phonon host 0.0 0.0 0.0 0.5
phonon int 0.25 0.25 0.75 0.5
charge=-2,-2
end

begin int3
interstitial 0.75 0.25 0.25 X2
phonon host 0.0 0.0 0.0 0.5
phonon int 0.75 0.25 0.25 0.5
charge=-3,-3
end

$end

$ingredients
begin ingredients_global
mast_nodes         1
mast_multiplyencut 1.5
mast_ppn           8
mast_queue         morgan1
mast_exec          //opt/mpiexec/bin/mpiexec //share/apps/bin/vasp5.2_CNEB
mast_kpoints       2x2x2 M
mast_xc            PBE
isif 3
ibrion 2
nsw 191
ismear 1
sigma 0.2
lwave False
lcharg False
prec Accurate
mast_program   vasp
mast_write_method            write_singlerun
mast_ready_method            ready_singlerun
mast_run_method              run_singlerun
mast_complete_method         complete_singlerun
mast_update_children_method  give_structure
end

begin inducedefect
mast_write_method            no_setup
mast_ready_method            ready_defect
mast_run_method              run_defect
mast_complete_method         complete_structure
end

begin lowmesh
mast_kpoints 1x1x1 G
end

begin lowmesh_defect
mast_kpoints 1x1x1 G
isif 2
end

begin defect_relax
isif 2
end

begin static
ibrion -1
nsw 0
mast_multiplyencut 1.25
mast_update_children_method give_structure
end

begin static_to_neb
ibrion -1
nsw 0
mast_multiplyencut 1.25
mast_update_children_method give_structure_and_energy_to_neb
end

begin phonon
ibrion 5
mast_write_method write_phonon_single
mast_update_children_method give_phonon_single_forces_and_displacements
end

begin phononparse
mast_program phon
lfree .True.
temperature 1173
nd 3
qa 11
qb 11
qc 11
lsuper .False.
mast_exec $MAST_INSTALL_PATH/bin/phon_henry
end

begin neb_to_neb
ibrion 1
potim 0.01
lclimb True
spring -5
mast_kpoints 1x1x1 G
mast_program   vasp_neb
mast_write_method            write_neb
mast_update_children_method  give_neb_structures_to_neb
end

begin neb_to_nebstat
ibrion 1
potim 0.01
lclimb True
spring -5
mast_program   vasp_neb
mast_write_method            write_neb
mast_update_children_method  give_neb_structures_to_neb
end

begin nebstat_to_phonon
mast_program   vasp
mast_write_method            write_neb_subfolders
mast_ready_method            ready_neb_subfolders
mast_run_method              run_neb_subfolders
mast_complete_method         complete_neb_subfolders
mast_update_children_method  give_saddle_structure
end

$end

$neb
begin int1-int2
X2, 0.25 0.25 0.25, 0.25 0.25 0.75
images 1
phonon int 0.25 0.25 0.5 0.5
phonon host 0.0 0.0 0.0 0.5
end
$end

$recipe
recipe_file phonon_test_neb.txt
$end</pre>
</div>
</div>
<div class="section" id="small-example-generic-program-here-genetic-algorithm">
<h2>Small example: generic program (here, Genetic Algorithm)<a class="headerlink" href="#small-example-generic-program-here-genetic-algorithm" title="Permalink to this headline">¶</a></h2>
<p>Recipe file:</p>
<div class="highlight-python"><pre>Recipe GenericTest
generictest (generictest)</pre>
</div>
<p>More lines could be added to the recipe, and more ingredient types (e.g. test1, test2, etc.), with minor modifications to the keywords given for each ingredient type.</p>
<p>Input file:</p>
<div class="highlight-python"><pre>$mast
system_name GATest
$end

$structure
#The structure actually does not make a difference for this
#example, as it is not passed into any structure file.
coord_type fractional
begin lattice
3.5 0 0
0 3.5 0
0 0 3.5
end
begin coordinates
Al 0.0000000000 0.0000000000 0.0000000000
end
$end

$ingredients
begin ingredients_global
mast_nodes         1
mast_multiplyencut 1.5
mast_ppn           1
mast_queue         default
mast_exec          //share/apps/vasp5.2_cNEB
end

begin generictest
# need to add mastlib to python path to get lammps3.py
# Amy's GAv14 is currently treated as closed-source
type  Defect
atomlist  [('Si',0,28.0855,-5.3062),('C',4,12.011,-7.371)]
filename   GAoutput
nclust   5
maxgen   5
supercell   (3,3,3)
SolidFile   cBulk.xyz
SolidCell   [13.092,13.092,13.092]
convergence_scheme   Max-Gen
MUTPB  0.1
mutation_options  ['Lattice_Alteration_small', 'Lattice_Alteration_Group', 'Rotation_geo']
CALC_Method   LAMMPS
pair_style  tersoff
pot_file    SiC.tersoff
LammpsMin   1e-25 1e-25 5000 10000
keep_Lammps_files True
Lmin_style   cg
genealogy   True
allenergyfile  True
BestIndsList   True
mast_write_method            write_ingred_input_file input.txt all 0 =;write_submit_script;copy_fullpath_file //home/tam/tammast/test/gatest/SiC.tersoff SiC.tersoff;copy_fullpath_file //home/tam/tammast/test/gatest/cBulk.xyz cBulk.xyz
mast_ready_method            ready_singlerun
mast_run_method              run_singlerun
mast_complete_method         file_has_string GAoutput.txt "End of Execution"
mast_update_children_method  give_structure
mast_started_file            GAoutput.txt
mast_program                 None
mast_exec                    python //home/tam/test_amy_GA/GAv14.py input.txt
end
$end

$recipe
recipe_file generic_test.txt
$end</pre>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/MAST_logo_200px.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Examples</a><ul>
<li><a class="reference internal" href="#full-example-defects-charges-neb-phonons">Full example: defects, charges, NEB, phonons</a></li>
<li><a class="reference internal" href="#small-example-generic-program-here-genetic-algorithm">Small example: generic program (here, Genetic Algorithm)</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="4_0_recipe.html"
                        title="previous chapter">The Recipe</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="5_0_runningmast.html"
                        title="next chapter">Running MAST</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="5_0_runningmast.html" title="Running MAST"
             >next</a> |</li>
        <li class="right" >
          <a href="4_0_recipe.html" title="The Recipe"
             >previous</a> |</li>
        <li><a href="index.html">MAST 1.1.5 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, University of Wisconsin-Madison Compuational Materials Group.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.
    </div>
  </body>
</html>