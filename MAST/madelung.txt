Recipe Madelung
perfect_opt (no_run)
    {begin}
    inducescaling_<S> (inducescaling)
        perfect_<S>_opt (no_run)
            inducedefect_<S>_<N> (inducedefect)
                defect_<S>_<N>_opt (relax_to_madelung)
                    madelung_utility (madelung)
    {end}
